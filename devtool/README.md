# C++ 符号扫描器 (CppSymbolScanner)

为了方便对TilelandWorld项目以及第三方库的符号信息进行快速的获取和查看,并根据个人某一时刻的特殊需求进行列表展示(比如展示未被调用的函数),编写了该Python脚本，CppSymbolScanner 是一个用于扫描 C++ 源代码文件并提取符号信息的工具。能分析 C++ 代码并识别各种语言结构，包括：
- 宏常量和宏函数
- 命名空间
- 类和结构体
- 全局函数（声明和定义）
- 成员函数（声明和定义）
- 友元函数
- 全局变量和类成员变量
- 函数调用

该工具采用两层设计：
1. **ParserState** - 基于栈的有限状态自动机，负责跟踪解析状态和作用域
2. **CppSymbolScanner** - 符号扫描器，使用正则表达式规则集合和有限状态机识别符号

通过这种组合方式，工具能够处理略微复杂的 C++ 语法结构，并准确识别符号的作用域,不过对于条件编译等有着复杂影响的语法,无法有效支持。

## 特点

- **基于状态机**：使用状态机跟踪代码上下文，确保正确识别嵌套结构
- **作用域感知**：正确处理命名空间和类作用域的嵌套
- **详细日志**：提供全面的调试日志，方便排查问题
- **彩色输出**：使用彩色格式展示扫描结果，提高可读性

## 使用方法

```bash
python scan.py <目录路径>
```

## 友情提醒
本脚本仅为个人兴趣而写,实际功能非常有限且存在很多BUG,获取C++项目符号信息的更优选择是使用LLVM Clang工具链的libclang库提供的接口,从抽象语法树中获得相关信息

> The source code was developed with the assistance of DeepSeek-V3/Gemini2.5Pro/Anthropic Claude 3.7 Sonnet Thinking.
